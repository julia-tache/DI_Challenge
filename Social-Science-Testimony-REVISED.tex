\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Social Science Testimony},
            pdfauthor={Julia Tache},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Social Science Testimony}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Julia Tache}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{2/12/2021}


\begin{document}
\maketitle

While looking through the Data is Plural archive, I was interested in
the dataset on social scientists testifying in congress. I always
wondered about the efficacy of ``expert witnesses'' in court cases as
well as in congressional hearings. People who have very extensive
experience in a certain topic could provide an excellent resource in the
consultation of legislation, especially if the bill or other initiative
they are sharing their testimony for is directly related to their field
of study. They may be able to persuade the members of congress to vote
in a certain way if their testimony is strong enough. Because the
individuals in the dataset are social scientists, one can assume that
they would prioritize social benefits of whatever legislative process
the congressional committee is going through. For example, an economist
might make suggestions on the budget based on the financial needs of the
country, or a sociologist might suggest ways to make a bill about
housing more equitable and fairer to those affected by structural
inequities. The presence of social scientists in congress could have a
very positive impact overall.

Of course, the opposite could very well be true: what if their
testimonies are not listened to and respected, even if their advice is
beneficial? What if these scholars, academics, thinktank researchers,
etc. have their own special interests they are trying to promote? What
if some members of certain disciplines are given more credence than
others? I was curious about the tangible effect that these testimonies
could have on actual legislative change.

My research question is whether or not social science testimonies make
an impact in congressional hearings? By impact, I decided somewhat
arbitrarily on a few factors: the total presence of social scientists at
hearings, the ability to get bills passed during related hearings, as
well as the ability to incite change in specific committees.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyverse)}
\KeywordTok{library}\NormalTok{(data.table)}
\KeywordTok{library}\NormalTok{(DT)}
\KeywordTok{library}\NormalTok{(stargazer)}

\NormalTok{sst \textless{}{-}}\StringTok{ }\KeywordTok{read\_csv}\NormalTok{(}\StringTok{"social science congressional testimony.csv"}\NormalTok{)}
\NormalTok{gov\_df \textless{}{-}}\StringTok{ }\KeywordTok{read\_csv}\NormalTok{(}\StringTok{"gov\_df.csv"}\NormalTok{)}
\NormalTok{bills\_df \textless{}{-}}\StringTok{ }\KeywordTok{read\_csv}\NormalTok{(}\StringTok{"bills\_df.csv"}\NormalTok{)}

\NormalTok{testimonies \textless{}{-}}\StringTok{ }\NormalTok{readtext}\OperatorTok{::}\KeywordTok{readtext}\NormalTok{(}\StringTok{"*.txt"}\NormalTok{)}

\CommentTok{\# divide each group of testimonies based on discipline }
\NormalTok{econ \textless{}{-}}\StringTok{ }\NormalTok{testimonies[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{, ]}
\NormalTok{polisci \textless{}{-}}\StringTok{ }\NormalTok{testimonies[}\DecValTok{6}\OperatorTok{:}\DecValTok{10}\NormalTok{, ]}
\NormalTok{psych \textless{}{-}}\StringTok{ }\NormalTok{testimonies[}\DecValTok{11}\OperatorTok{:}\DecValTok{13}\NormalTok{, ]}
\NormalTok{soc \textless{}{-}}\StringTok{ }\NormalTok{testimonies[}\DecValTok{14}\OperatorTok{:}\DecValTok{18}\NormalTok{, ]}
\end{Highlighting}
\end{Shaded}

Using the Social Science Congressional Testimony dataset, I first looked
at the most popular committees that social scientists attend. For all of
time, the most popular is the Joint Economic Committee, but from 2015
onwards the most popular committee in the data was the House Committee
on Financial Services. I looked at 2015 onwards because this represents
the most recent sessions of congress in the data: the 114th to 116th
sessions. I figured that these data would be the most relevant to my
research question because I would not have to take historical factors
into consideration as much.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# most popular committee }
\NormalTok{table\_com \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst}\OperatorTok{$}\NormalTok{full\_committee1))}
\KeywordTok{head}\NormalTok{(table\_com[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_com}\OperatorTok{$}\NormalTok{Freq), ])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                                                         Var1 Freq
## 38                              committee on economic. joint 1154
## 125                       committee on ways and means. house  967
## 118                       committee on the judiciary. senate  686
## 21  committee on banking, housing, and urban affairs. senate  682
## 50                              committee on finance. senate  653
## 52                       committee on foreign affairs. house  565
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# most common witness affiliations }
\NormalTok{table\_aff \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst}\OperatorTok{$}\NormalTok{witness\_affiliation))}
\KeywordTok{head}\NormalTok{(table\_aff[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_aff}\OperatorTok{$}\NormalTok{Freq), ])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                                                          Var1 Freq
## 1760                        chm, council of economic advisers  163
## 223  american enterprise institute for public policy research  144
## 1386                          chairman, federal reserve board  138
## 2694                                            director, cbo  129
## 2105                                                    d -ny  122
## 8585                               sr fellow, brookings instn   92
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sst\_recent \textless{}{-}}\StringTok{ }\NormalTok{sst }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(year }\OperatorTok{\textgreater{}=}\StringTok{ }\DecValTok{2015}\NormalTok{)}

\NormalTok{sst\_recent}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 332 x 29
##       X1 hearing_id  year date_begin date_end witness_name witness_affilia~
##    <dbl> <chr>      <dbl> <chr>      <chr>    <chr>        <chr>           
##  1 15151 HRG-2015-~  2015 Jul. 15, ~ Jul. 15~ susan colli~ r -me           
##  2 15152 HRG-2015-~  2015 Jan. 21, ~ Jan. 22~ alice rivlin economic studie~
##  3 15153 HRG-2015-~  2015 13-May-15  13-May-~ robert joha~ usda            
##  4 15154 HRG-2015-~  2015 Feb. 13, ~ Feb. 13~ marc lynch   institute for m~
##  5 15155 HRG-2015-~  2015 Jul. 23, ~ Jul. 23~ sujit chakr~ clearing house ~
##  6 15156 HRG-2015-~  2015 Sep. 30, ~ Sep. 30~ richard ved~ center for coll~
##  7 15157 HRG-2015-~  2015 Sep. 30, ~ Sep. 30~ philip joyce school of publi~
##  8 15158 HRG-2015-~  2015 Apr. 22, ~ Apr. 22~ lynn scarle~ public policy ,~
##  9 15159 HRG-2015-~  2015 Feb. 26, ~ Feb. 26~ douglas hol~ american action~
## 10 15160 HRG-2015-~  2015 Feb. 4, 2~ Feb. 4,~ danielle pl~ foreign and def~
## # ... with 322 more rows, and 22 more variables: discipline1 <chr>,
## #   discipline2 <chr>, discipline3 <lgl>, sociologist <dbl>,
## #   economist <dbl>, anthropologist <dbl>, psychologist <dbl>,
## #   polscientist <dbl>, agency <chr>, census <dbl>, nsfsbe <dbl>,
## #   thinktank <dbl>, thinktank1 <chr>, thinktank2 <lgl>,
## #   full_committee1 <chr>, sub_committee1 <chr>, full_committee2 <chr>,
## #   sub_committee2 <chr>, title_description <chr>, filter <dbl>,
## #   HID <dbl>, univ_aff <dbl>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(data.table)}
\NormalTok{table\_df \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{full\_committee1)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "Freq"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Committee Name"}\NormalTok{ =}\StringTok{ "Var1"}\NormalTok{) }

\NormalTok{top5\_comm \textless{}{-}}\StringTok{ }\NormalTok{table\_df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Frequency), ][}\DecValTok{0}\OperatorTok{:}\DecValTok{5}\NormalTok{, ]}

\NormalTok{table\_df}\OperatorTok{$}\StringTok{\textasciigrave{}}\DataTypeTok{Committee Name}\StringTok{\textasciigrave{}}\NormalTok{ \textless{}{-}}\StringTok{ }\KeywordTok{str\_to\_title}\NormalTok{(table\_df}\OperatorTok{$}\StringTok{\textasciigrave{}}\DataTypeTok{Committee Name}\StringTok{\textasciigrave{}}\NormalTok{)}

\KeywordTok{datatable}\NormalTok{(}\KeywordTok{head}\NormalTok{(table\_df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Frequency), ]))}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-ee180a46a94b71ce44ea}{}

I created a similar frequency table for the witnesses who spoke, the
most represented disciplines in the field, and witness affiliation.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{table\_df \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{witness\_name)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "Freq"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Witness"}\NormalTok{ =}\StringTok{ "Var1"}\NormalTok{) }

\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Witness \textless{}{-}}\StringTok{ }\KeywordTok{str\_to\_title}\NormalTok{(table\_df}\OperatorTok{$}\NormalTok{Witness)}

\KeywordTok{datatable}\NormalTok{(table\_df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Frequency), ])}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-511494e162a3a905bbab}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{table\_df \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{discipline1)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "Freq"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Discipline"}\NormalTok{ =}\StringTok{ "Var1"}\NormalTok{) }

\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Discipline \textless{}{-}}\StringTok{ }\KeywordTok{str\_to\_title}\NormalTok{(table\_df}\OperatorTok{$}\NormalTok{Discipline)}

\KeywordTok{datatable}\NormalTok{(table\_df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Frequency), ])}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-6aeceab6ae264b002f71}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{table\_df \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{table}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{witness\_affiliation)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "Freq"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Witness Affiliation"}\NormalTok{ =}\StringTok{ "Var1"}\NormalTok{) }

\KeywordTok{data.table}\NormalTok{(table\_df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{table\_df}\OperatorTok{$}\NormalTok{Frequency), ])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                                                                              Witness Affiliation
##   1:                                    american enterprise institute for public policy research
##   2:                                                                       american action forum
##   3:                                                                                         cbo
##   4:                                                                       federal reserve board
##   5:                                                             economics , stanford university
##  ---                                                                                            
## 185:                                                           trade policy , cornell university
## 186:                                                 tuck school of business , dartmouth college
## 187: ware center for security studies , american enterprise institute for public policy research
## 188:                                                      washington center for equitable growth
## 189:                                                                                  wiley rein
##      Frequency
##   1:        19
##   2:        18
##   3:        14
##   4:        13
##   5:        11
##  ---          
## 185:         1
## 186:         1
## 187:         1
## 188:         1
## 189:         1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df \textless{}{-}}\StringTok{ }\NormalTok{sst\_recent }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{count}\NormalTok{(discipline1)}

\NormalTok{df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{df}\OperatorTok{$}\NormalTok{n), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 5 x 2
##   discipline1             n
##   <chr>               <int>
## 1 Economist             228
## 2 Political Scientist    89
## 3 Sociologist            10
## 4 Psychologist            4
## 5 Anthropologist          1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df \textless{}{-}}\StringTok{ }\NormalTok{sst\_recent }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(discipline1 }\OperatorTok{==}\StringTok{ "Political Scientist"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{count}\NormalTok{(discipline1, witness\_name)}

\NormalTok{df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{df}\OperatorTok{$}\NormalTok{n), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 62 x 3
##    discipline1         witness_name         n
##    <chr>               <chr>            <int>
##  1 Political Scientist philip joyce         5
##  2 Political Scientist seth jones           5
##  3 Political Scientist donald kettl         4
##  4 Political Scientist james capretta       3
##  5 Political Scientist andrew kelly         2
##  6 Political Scientist daniel benjamin      2
##  7 Political Scientist danielle pletka      2
##  8 Political Scientist diana negroponte     2
##  9 Political Scientist graham allison       2
## 10 Political Scientist gregory mcneal       2
## # ... with 52 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df \textless{}{-}}\StringTok{ }\NormalTok{sst\_recent }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(discipline1 }\OperatorTok{==}\StringTok{ "Sociologist"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{count}\NormalTok{(discipline1, witness\_name)}

\NormalTok{df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{df}\OperatorTok{$}\NormalTok{n), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 7 x 3
##   discipline1 witness_name       n
##   <chr>       <chr>          <int>
## 1 Sociologist leon aron          3
## 2 Sociologist hal salzman        2
## 3 Sociologist amitai etzioni     1
## 4 Sociologist jeffrey passel     1
## 5 Sociologist nikos passas       1
## 6 Sociologist w. wilcox          1
## 7 Sociologist walden bello       1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df \textless{}{-}}\StringTok{ }\NormalTok{sst\_recent }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(discipline1 }\OperatorTok{==}\StringTok{ "Psychologist"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{count}\NormalTok{(discipline1, witness\_name)}

\NormalTok{df[}\KeywordTok{order}\NormalTok{(}\OperatorTok{{-}}\NormalTok{df}\OperatorTok{$}\NormalTok{n), ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 4 x 3
##   discipline1  witness_name        n
##   <chr>        <chr>           <int>
## 1 Psychologist frances deviney     1
## 2 Psychologist keith payne         1
## 3 Psychologist mark mahone         1
## 4 Psychologist tami decoteau       1
\end{verbatim}

Next, I did some NLP and sentiment analysis to understand the nature of
the hearings. I used the title\_description variable to create a corpus
of text, a document term matrix, and another variable calculating the
sentiment value of the description using the syuzhet package. This
process of sentiment analysis is concerned with ``plot'' development as
well as sentiment by utilizing several different existing dictionaries.
I felt that this was suitable and comprehensive enough to calculate the
sentiments of the descriptions of the hearings because it would give an
idea of the positive/negative attributes of these hearings while also
giving us a sense of how ``well-developed'' the intention of the hearing
was.

Code template from
\url{https://www.red-gate.com/simple-talk/sql/bi/text-mining-and-sentiment-analysis-with-r/}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidytext)}
\KeywordTok{library}\NormalTok{(tm)}
\KeywordTok{library}\NormalTok{(SnowballC)}
\KeywordTok{library}\NormalTok{(RColorBrewer)}
\KeywordTok{library}\NormalTok{(syuzhet)}

\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{title\_description))}

\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{ (x , pattern ) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}

\CommentTok{\# Convert the text to lower case}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}

\CommentTok{\# Remove numbers}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}

\CommentTok{\# Remove english common stopwords}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}

\CommentTok{\# Remove punctuations}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}

\CommentTok{\# Eliminate extra white spaces}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Build a term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# Sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# Display the top 5 most frequent words}
\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##              Word Frequency
## federal   federal        27
## budget     budget        27
## policy     policy        26
## economic economic        25
## reform     reform        24
\end{verbatim}

Looking at the five most common committees in the data, the sentiments
ranged widely from very positive to very negative across hearings. This
could suggest that these hearings were of a very pressing nature and
required experts to speak on the subject immediately.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sst\_recent}\OperatorTok{$}\NormalTok{syuzhet\_vector \textless{}{-}}\StringTok{ }\KeywordTok{get\_sentiment}\NormalTok{(sst\_recent}\OperatorTok{$}\NormalTok{title\_description, }\DataTypeTok{method=}\StringTok{"syuzhet"}\NormalTok{) }

\NormalTok{top5\_comm\_graph \textless{}{-}}\StringTok{ }\NormalTok{sst\_recent }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(full\_committee1 }\OperatorTok{\%in\%}\StringTok{ }\NormalTok{top5\_comm}\OperatorTok{$}\StringTok{\textasciigrave{}}\DataTypeTok{Committee Name}\StringTok{\textasciigrave{}}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{full\_committee1 =} \KeywordTok{replace}\NormalTok{(full\_committee1, full\_committee1 }\OperatorTok{==}\StringTok{ "committee on financial services. house"}\NormalTok{, }\StringTok{"Fin. Services"}\NormalTok{)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{full\_committee1 =} \KeywordTok{replace}\NormalTok{(full\_committee1, full\_committee1 }\OperatorTok{==}\StringTok{ "committee on foreign affairs. house"}\NormalTok{, }\StringTok{"Foreign Aff."}\NormalTok{)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{full\_committee1 =} \KeywordTok{replace}\NormalTok{(full\_committee1, full\_committee1 }\OperatorTok{==}\StringTok{ "committee on banking, housing, and urban affairs. senate"}\NormalTok{, }\StringTok{"Banking, Housing, UA"}\NormalTok{)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{full\_committee1 =} \KeywordTok{replace}\NormalTok{(full\_committee1, full\_committee1 }\OperatorTok{==}\StringTok{ "committee on ways and means. house"}\NormalTok{, }\StringTok{"Ways \& Means"}\NormalTok{)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{full\_committee1 =} \KeywordTok{replace}\NormalTok{(full\_committee1, full\_committee1 }\OperatorTok{==}\StringTok{ "committee on budget. house"}\NormalTok{, }\StringTok{"Budget"}\NormalTok{)) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(syuzhet\_vector }\OperatorTok{!=}\StringTok{ }\DecValTok{0}\NormalTok{)}

\KeywordTok{ggplot}\NormalTok{(top5\_comm\_graph, }\KeywordTok{aes}\NormalTok{(X1, syuzhet\_vector, }\DataTypeTok{fill =}\NormalTok{ full\_committee1)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet\_grid}\NormalTok{(}\OperatorTok{\textasciitilde{}}\NormalTok{full\_committee1, }\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Committee Descriptions"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Index"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Syuzhet Score"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_text}\NormalTok{(}\DataTypeTok{angle =} \DecValTok{45}\NormalTok{, }\DataTypeTok{hjust =} \DecValTok{1}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{scale\_fill\_brewer}\NormalTok{(}\DataTypeTok{palette =} \StringTok{"Dark2"}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-11-1.pdf}

Using binary variables in the data, I compared the syuzhet vector to the
outcome variable of the field of the expert present. However, none of
the results were significant.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fit \textless{}{-}}\StringTok{ }\KeywordTok{glm}\NormalTok{(economist }\OperatorTok{\textasciitilde{}}\StringTok{ }\NormalTok{syuzhet\_vector, sst\_recent, }\DataTypeTok{family =} \StringTok{"binomial"}\NormalTok{)}
\NormalTok{fit\_}\DecValTok{2}\NormalTok{ \textless{}{-}}\StringTok{ }\KeywordTok{glm}\NormalTok{(polscientist }\OperatorTok{\textasciitilde{}}\StringTok{ }\NormalTok{syuzhet\_vector, sst\_recent, }\DataTypeTok{family =} \StringTok{"binomial"}\NormalTok{)}
\NormalTok{fit\_}\DecValTok{3}\NormalTok{ \textless{}{-}}\StringTok{ }\KeywordTok{glm}\NormalTok{(sociologist }\OperatorTok{\textasciitilde{}}\StringTok{ }\NormalTok{syuzhet\_vector, sst\_recent, }\DataTypeTok{family =} \StringTok{"binomial"}\NormalTok{)}

\KeywordTok{stargazer}\NormalTok{(fit, fit\_}\DecValTok{2}\NormalTok{, fit\_}\DecValTok{3}\NormalTok{, }\DataTypeTok{title=}\StringTok{"Results"}\NormalTok{, }\DataTypeTok{align=}\OtherTok{TRUE}\NormalTok{, }\DataTypeTok{type =} \StringTok{"latex"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\% Table created by stargazer v.5.2.2 by Marek Hlavac, Harvard
University. E-mail: hlavac at fas.harvard.edu \% Date and time: Tue, Mar
02, 2021 - 17:56:24 \% Requires LaTeX packages: dcolumn

\begin{table}[!htbp] \centering 
  \caption{Results} 
  \label{} 
\begin{tabular}{@{\extracolsep{5pt}}lD{.}{.}{-3} D{.}{.}{-3} D{.}{.}{-3} } 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
 & \multicolumn{3}{c}{\textit{Dependent variable:}} \\ 
\cline{2-4} 
\\[-1.8ex] & \multicolumn{1}{c}{economist} & \multicolumn{1}{c}{polscientist} & \multicolumn{1}{c}{sociologist} \\ 
\\[-1.8ex] & \multicolumn{1}{c}{(1)} & \multicolumn{1}{c}{(2)} & \multicolumn{1}{c}{(3)}\\ 
\hline \\[-1.8ex] 
 syuzhet\_vector & 0.211 & -0.246 & -0.245 \\ 
  & (0.163) & (0.169) & (0.439) \\ 
  & & & \\ 
 Constant & 0.737^{***} & -0.905^{***} & -3.426^{***} \\ 
  & (0.123) & (0.127) & (0.326) \\ 
  & & & \\ 
\hline \\[-1.8ex] 
Observations & \multicolumn{1}{c}{332} & \multicolumn{1}{c}{332} & \multicolumn{1}{c}{332} \\ 
Log Likelihood & \multicolumn{1}{c}{-205.552} & \multicolumn{1}{c}{-194.878} & \multicolumn{1}{c}{-44.717} \\ 
Akaike Inf. Crit. & \multicolumn{1}{c}{415.104} & \multicolumn{1}{c}{393.756} & \multicolumn{1}{c}{93.434} \\ 
\hline 
\hline \\[-1.8ex] 
\textit{Note:}  & \multicolumn{3}{r}{$^{*}$p$<$0.1; $^{**}$p$<$0.05; $^{***}$p$<$0.01} \\ 
\end{tabular} 
\end{table}

Because the data were a bit limited, I retrieved some additional data
using the ProPublica API for data on congress. For the most popular
committee in the original dataset where most social scientists were
present, HSBA, the sentiment of meetings spike in intensity in 2018 both
positively and negatively.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{HSBA \textless{}{-}}\StringTok{ }\NormalTok{gov\_df }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(committee\_code }\OperatorTok{==}\StringTok{ "HSBA"}\NormalTok{)}

\NormalTok{HSBA}\OperatorTok{$}\NormalTok{syuzhet\_vector \textless{}{-}}\StringTok{ }\KeywordTok{get\_sentiment}\NormalTok{(HSBA}\OperatorTok{$}\NormalTok{description, }\DataTypeTok{method=}\StringTok{"syuzhet"}\NormalTok{) }

\NormalTok{HSBA \textless{}{-}}\StringTok{ }\NormalTok{HSBA }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(syuzhet\_vector }\OperatorTok{!=}\StringTok{ }\DecValTok{0}\NormalTok{)}

\KeywordTok{ggplot}\NormalTok{(HSBA, }\KeywordTok{aes}\NormalTok{(date, syuzhet\_vector)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for HSBA Meeting Descriptions"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Date"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Syuzhet Score"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylim}\NormalTok{(}\OperatorTok{{-}}\DecValTok{5}\NormalTok{, }\DecValTok{7}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_text}\NormalTok{(}\DataTypeTok{angle =} \DecValTok{45}\NormalTok{, }\DataTypeTok{hjust =} \DecValTok{1}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-12-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{HSBA}\OperatorTok{$}\NormalTok{year \textless{}{-}}\StringTok{ }\KeywordTok{str\_extract}\NormalTok{(HSBA}\OperatorTok{$}\NormalTok{date, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{d\{4\}"}\NormalTok{)}

\NormalTok{gov\_df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 5,867 x 11
##    chamber committee committee_code api_uri date       time  location
##    <chr>   <chr>     <chr>          <chr>   <date>     <tim> <chr>   
##  1 House   Committe~ HSBA           https:~ 2016-12-08 09:30 RHOB 21~
##  2 House   Committe~ HSGO           https:~ 2016-12-08 09:00 RHOB 21~
##  3 House   Committe~ HSGO           https:~ 2016-12-07 14:00 RHOB 21~
##  4 House   Committe~ HSIF           https:~ 2016-12-07 10:00 RHOB 23~
##  5 House   Committe~ HSBA           https:~ 2016-12-07 10:00 RHOB 21~
##  6 House   Committe~ HSPW           https:~ 2016-12-07 10:00 RHOB 21~
##  7 House   Committe~ HSFA           https:~ 2016-12-07 10:00 RHOB 21~
##  8 House   Committe~ HSAG           https:~ 2016-12-07 10:00 LHOB 13~
##  9 House   Committe~ HSGO           https:~ 2016-12-07 09:00 RHOB 21~
## 10 House   Committe~ HSRU           https:~ 2016-12-06 15:00 CAPITOL~
## # ... with 5,857 more rows, and 4 more variables: description <chr>,
## #   bill_ids <chr>, url <chr>, meeting_type <chr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{HSBA\_recent \textless{}{-}}\StringTok{ }\NormalTok{HSBA }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(year }\OperatorTok{==}\StringTok{ }\DecValTok{2018}\NormalTok{)}

\KeywordTok{ggplot}\NormalTok{(HSBA\_recent, }\KeywordTok{aes}\NormalTok{(date, syuzhet\_vector)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for 2018 HSBA Meeting Descriptions"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Date"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Syuzhet Score"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{ylim}\NormalTok{(}\OperatorTok{{-}}\DecValTok{5}\NormalTok{, }\DecValTok{7}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_text}\NormalTok{(}\DataTypeTok{angle =} \DecValTok{45}\NormalTok{, }\DataTypeTok{hjust =} \DecValTok{1}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-13-1.pdf}

The document term matrix and word frequency table suggest that most of
the hearings at the time were related to regulations on investment
protection.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(HSBA\_recent}\OperatorTok{$}\NormalTok{description))}

\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{ (x , pattern ) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}

\CommentTok{\# Convert the text to lower case}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}

\CommentTok{\# Remove numbers}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}

\CommentTok{\# Remove english common stopwords}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}

\CommentTok{\# Remove punctuations}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}

\CommentTok{\# Eliminate extra white spaces}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Build a term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# Sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# Display the top 5 most frequent words}
\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                  Word Frequency
## act               act       107
## regulatory regulatory        27
## small           small        23
## investment investment        19
## protection protection        18
\end{verbatim}

Combining the full API dataset on congressional hearings with one of
bills that were passed and a sentiment analysis reveals that the
committee most likely to pass bills is the Committee on Rules.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gov\_df \textless{}{-}}\StringTok{ }\NormalTok{gov\_df }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"bill\_id"}\NormalTok{ =}\StringTok{ "bill\_ids"}\NormalTok{)}

\NormalTok{gov\_bills \textless{}{-}}\StringTok{ }\NormalTok{gov\_df }\OperatorTok{\%\textgreater{}\%}\StringTok{ }\KeywordTok{filter}\NormalTok{(bill\_id }\OperatorTok{!=}\StringTok{ "n/a"}\NormalTok{)}
\NormalTok{bills\_df \textless{}{-}}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(bills\_df)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{joined\_df \textless{}{-}}\StringTok{ }\KeywordTok{inner\_join}\NormalTok{(gov\_bills, bills\_df, }\DataTypeTok{by =} \StringTok{"bill\_id"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

The chart created also shows that bills passed have overwhelmingly
positive sentiments for their summaries.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{joined\_df}\OperatorTok{$}\NormalTok{syuzhet\_vector \textless{}{-}}\StringTok{ }\KeywordTok{get\_sentiment}\NormalTok{(joined\_df}\OperatorTok{$}\NormalTok{summary, }\DataTypeTok{method=}\StringTok{"syuzhet"}\NormalTok{) }

\KeywordTok{ggplot}\NormalTok{(joined\_df, }\KeywordTok{aes}\NormalTok{(bill\_id, syuzhet\_vector, }\DataTypeTok{fill =}\NormalTok{ committee)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Bills Passed in Committee }\CharTok{\textbackslash{}n}\StringTok{ (114th{-}116th Session)"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Bill ID No."}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Syuzhet Score"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{fill =} \StringTok{"Committee Name"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_blank}\NormalTok{()) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-18-1.pdf}

This preliminary analysis is very limited with regards to the ability to
answer my original research question. It was challenging finding ways to
use the data from the government API in concert with the original
dataset on testimonies when there were no related variables to join the
datasets. However, through exploratory analysis, I did find some factors
that do lead to ``impactful'' congressional hearings, most notably the
sentiment and ``intensity'' of the hearing and/or bill description. The
next steps for this project would be perhaps to find actual transcripts
of the social scientists present to analyze the information shared and
their persuasion tactics used. A hypothesis test can be completed on
whether or not hearings with an expert present make a difference or not
in the ultimate conclusion of the hearing. If we understand what makes a
strong testimony, social scientists hoping to make a beneficial social
impact can follow these guidelines to make sure their voices are heard
in the elected body.

\hypertarget{testimony-analysis}{%
\subsection{Testimony Analysis}\label{testimony-analysis}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tokenizers)}

\CommentTok{\#\#\# economists }

\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(econ}\OperatorTok{$}\NormalTok{text))}
\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(x, pattern) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}

\CommentTok{\# term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# top 5 most frequent words}
\KeywordTok{datatable}\NormalTok{(}\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-99aeebb340fc1b994cb5}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sentences \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_sentences}\NormalTok{(econ}\OperatorTok{$}\NormalTok{text)}
\NormalTok{sentence\_words \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_words}\NormalTok{(sentences[[}\DecValTok{1}\NormalTok{]])}

\NormalTok{v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \KeywordTok{sapply}\NormalTok{(sentence\_words, length))\{}
\NormalTok{  v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(v, }\KeywordTok{mean}\NormalTok{(i))}
\NormalTok{\}}

\KeywordTok{mean}\NormalTok{(v)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 22.00885
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in}\NormalTok{ sentences)\{}
\NormalTok{  y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(y, }\KeywordTok{get\_sentiment}\NormalTok{(i, }\DataTypeTok{method=}\StringTok{"afinn"}\NormalTok{))}
\NormalTok{\}}

\NormalTok{y\_df \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(y) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{id =} \KeywordTok{row\_number}\NormalTok{())}

\KeywordTok{ggplot}\NormalTok{(y\_df, }\KeywordTok{aes}\NormalTok{(id, y)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Economist\textquotesingle{}s Testimony"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Corpus Sentences"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Afinn Lab"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_blank}\NormalTok{()) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-19-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\# political scientist }

\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(polisci}\OperatorTok{$}\NormalTok{text))}
\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(x, pattern) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}

\CommentTok{\# term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# top 5 most frequent words}
\KeywordTok{datatable}\NormalTok{(}\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-9726f3b1a5df3cdc0d65}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sentences \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_sentences}\NormalTok{(polisci}\OperatorTok{$}\NormalTok{text)}
\NormalTok{sentence\_words \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_words}\NormalTok{(sentences[[}\DecValTok{1}\NormalTok{]])}

\NormalTok{v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \KeywordTok{sapply}\NormalTok{(sentence\_words, length))\{}
\NormalTok{  v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(v, }\KeywordTok{mean}\NormalTok{(i))}
\NormalTok{\}}

\KeywordTok{mean}\NormalTok{(v)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 23.9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in}\NormalTok{ sentences)\{}
\NormalTok{  y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(y, }\KeywordTok{get\_sentiment}\NormalTok{(i, }\DataTypeTok{method=}\StringTok{"afinn"}\NormalTok{))}
\NormalTok{\}}

\NormalTok{y\_df \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(y) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{id =} \KeywordTok{row\_number}\NormalTok{())}

\KeywordTok{ggplot}\NormalTok{(y\_df, }\KeywordTok{aes}\NormalTok{(id, y)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Political Scientist\textquotesingle{}s Testimony"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Corpus Sentences"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Afinn Lab"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_blank}\NormalTok{()) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-20-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\# psychologist }

\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(psych}\OperatorTok{$}\NormalTok{text))}
\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(x, pattern) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}

\CommentTok{\# term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# top 5 most frequent words}
\KeywordTok{datatable}\NormalTok{(}\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-5dd7761d0c99ccc42201}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sentences \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_sentences}\NormalTok{(psych}\OperatorTok{$}\NormalTok{text)}
\NormalTok{sentence\_words \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_words}\NormalTok{(sentences[[}\DecValTok{1}\NormalTok{]])}

\NormalTok{v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \KeywordTok{sapply}\NormalTok{(sentence\_words, length))\{}
\NormalTok{  v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(v, }\KeywordTok{mean}\NormalTok{(i))}
\NormalTok{\}}

\KeywordTok{mean}\NormalTok{(v)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 20.89286
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in}\NormalTok{ sentences)\{}
\NormalTok{  y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(y, }\KeywordTok{get\_sentiment}\NormalTok{(i, }\DataTypeTok{method=}\StringTok{"afinn"}\NormalTok{))}
\NormalTok{\}}

\NormalTok{y\_df \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(y) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{id =} \KeywordTok{row\_number}\NormalTok{())}

\KeywordTok{ggplot}\NormalTok{(y\_df, }\KeywordTok{aes}\NormalTok{(id, y)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Psychologist\textquotesingle{}s Testimony"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Corpus Sentences"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Afinn Lab"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_blank}\NormalTok{()) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-21-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\# sociologist }

\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{Corpus}\NormalTok{(}\KeywordTok{VectorSource}\NormalTok{(soc}\OperatorTok{$}\NormalTok{text))}
\NormalTok{toSpace \textless{}{-}}\StringTok{ }\KeywordTok{content\_transformer}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(x, pattern) }\KeywordTok{gsub}\NormalTok{(pattern, }\StringTok{" "}\NormalTok{, x))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"/"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"@"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, toSpace, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{|"}\NormalTok{)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, }\KeywordTok{content\_transformer}\NormalTok{(tolower))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeNumbers)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, removePunctuation)}
\NormalTok{TextDoc \textless{}{-}}\StringTok{ }\KeywordTok{tm\_map}\NormalTok{(TextDoc, stripWhitespace)}

\CommentTok{\# term{-}document matrix}
\NormalTok{TextDoc\_dtm \textless{}{-}}\StringTok{ }\KeywordTok{TermDocumentMatrix}\NormalTok{(TextDoc)}
\NormalTok{dtm\_m \textless{}{-}}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(TextDoc\_dtm)}

\CommentTok{\# sort by descearing value of frequency}
\NormalTok{dtm\_v \textless{}{-}}\StringTok{ }\KeywordTok{sort}\NormalTok{(}\KeywordTok{rowSums}\NormalTok{(dtm\_m),}\DataTypeTok{decreasing=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\DataTypeTok{word =} \KeywordTok{names}\NormalTok{(dtm\_v),}\DataTypeTok{freq=}\NormalTok{dtm\_v)}
\NormalTok{dtm\_d \textless{}{-}}\StringTok{ }\NormalTok{dtm\_d }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Word"}\NormalTok{ =}\StringTok{ "word"}\NormalTok{) }\OperatorTok{\%\textgreater{}\%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\StringTok{"Frequency"}\NormalTok{ =}\StringTok{ "freq"}\NormalTok{)}

\CommentTok{\# top 5 most frequent words}
\KeywordTok{datatable}\NormalTok{(}\KeywordTok{head}\NormalTok{(dtm\_d, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{htmlwidget-6a0b02d1b873147e134c}{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sentences \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_sentences}\NormalTok{(soc}\OperatorTok{$}\NormalTok{text)}
\NormalTok{sentence\_words \textless{}{-}}\StringTok{ }\KeywordTok{tokenize\_words}\NormalTok{(sentences[[}\DecValTok{1}\NormalTok{]])}

\NormalTok{v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \KeywordTok{sapply}\NormalTok{(sentence\_words, length))\{}
\NormalTok{  v \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(v, }\KeywordTok{mean}\NormalTok{(i))}
\NormalTok{\}}

\KeywordTok{mean}\NormalTok{(v)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 26.37179
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in}\NormalTok{ sentences)\{}
\NormalTok{  y \textless{}{-}}\StringTok{ }\KeywordTok{c}\NormalTok{(y, }\KeywordTok{get\_sentiment}\NormalTok{(i, }\DataTypeTok{method=}\StringTok{"afinn"}\NormalTok{))}
\NormalTok{\}}

\NormalTok{y\_df \textless{}{-}}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(y) }\OperatorTok{\%\textgreater{}\%}\StringTok{ }
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{id =} \KeywordTok{row\_number}\NormalTok{())}

\KeywordTok{ggplot}\NormalTok{(y\_df, }\KeywordTok{aes}\NormalTok{(id, y)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom\_col}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme\_light}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sentiment Score for Sociologist\textquotesingle{}s Testimony"}\NormalTok{) }\OperatorTok{+}\StringTok{  }
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\StringTok{"Corpus Sentences"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\StringTok{"Afinn Lab"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element\_blank}\NormalTok{()) }
\end{Highlighting}
\end{Shaded}

\includegraphics{Social-Science-Testimony-REVISED_files/figure-latex/unnamed-chunk-22-2.pdf}


\end{document}
